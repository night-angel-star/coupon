"use strict";(self.webpackChunkreact_e_shop=self.webpackChunkreact_e_shop||[]).push([[559],{20559:function(e,n,t){t.r(n),t.d(n,{default:function(){return Pe}});var r=t(72791),a=t(90618),i=t(57960),o=t(66106),s=t(30914),c=t(93433),u=t(87194),l=t(83388),d=t(33855),f=t(81225),p=t(80184),m=function(){var e=(0,d.v9)((function(e){return e.route.name})),n=(0,d.v9)((function(e){return e.auth.isLoggedIn?e.auth.user.permission:{}})),t=(0,d.v9)((function(e){return e.auth.user.level})),r=(0,d.I0)(),a=u.Z.reduce((function(e,r){var a;return void 0!==r.label&&("Dashboard"===r.label.props.children||("Coupon Product"===r.label.props.children||"Coupon Brand"===r.label.props.children||"Advertisement"===r.label.props.children||"Coupon Category"===r.label.props.children||"Coupon User"===r.label.props.children)&&1===t||1===(null===(a=n[r.label.props.children.toLowerCase()])||void 0===a?void 0:a.view))?[].concat((0,c.Z)(e),[{label:r.label,key:r.path}]):(0,c.Z)(e)}),[]);return(0,p.jsx)(l.Z,{style:{width:"100%"},defaultSelectedKeys:[e],mode:"inline",items:a,onClick:function(e){console.log(e),r((0,f.p)(e.key))}})},Z=t(25671),h=t(31773),x=t(2641),v=t(65857),j=Z.Z.Header,y=function(){var e=(0,d.v9)((function(e){return e.auth.user.name})),n=(0,d.I0)();return(0,p.jsx)(j,{children:(0,p.jsxs)("div",{className:"flex justify-between items-center",children:[(0,p.jsx)("div",{className:"text-white",children:"E-SHOP-ADMIN"}),(0,p.jsx)("div",{children:(0,p.jsxs)(h.Z,{children:[(0,p.jsxs)("div",{className:"text-white",children:["Welcome, ",e]}),(0,p.jsx)(x.ZP,{type:"link",onClick:function(){n((0,v.k)())},className:"text-white",children:"Logout"})]})})]})})},g=t(17828),w=t(16243),b=t(44925),k=t(74165),I=t(4942),P=t(1413),C=t(15861),_=t(29439),S=t(67987),D=t(14692),F=t(86005),N=t(36473),E=t(89862),L=t(77128),V=t(53192),U=t(17992),O=["123"],q=["name","id"],A=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],u=t[1],l=S.Z.useForm(),f=(0,_.Z)(l,1)[0],m=(0,d.v9)((function(e){return e.drawer.id})),Z=(0,d.v9)((function(e){return e.drawer.show})),v=(0,d.v9)((function(e){return e.data.data})).length,j=(0,r.useState)([]),y=(0,_.Z)(j,2),g=y[0],A=y[1],T=(0,r.useState)([]),M=(0,_.Z)(T,2),R=M[0],z=M[1],W=(0,d.I0)(),G=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===m}))[0]}));(0,r.useEffect)((function(){if(!0===Z){f.resetFields();try{f.setFieldsValue(G);var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n,t,r,a;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getPermission(m);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:return t={},e.next=8,n.parentLevel.map((function(e){var n=e.page,r="del"===e.operation?"delete":e.operation;return t=0===e.permission?t:t[n]?(0,P.Z)((0,P.Z)({},t),{},(0,I.Z)({},n,[].concat((0,c.Z)(t[n]),[r[0].toUpperCase()+r.slice(1)]))):(0,P.Z)((0,P.Z)({},t),{},(0,I.Z)({},n,[r[0].toUpperCase()+r.slice(1)]))}));case 8:return z(t),r={},e.next=12,n.parentLevel.map((function(e){var n=e.page,t="del"===e.operation?"delete":e.operation;return r=(0,P.Z)((0,P.Z)({},r),{},(0,I.Z)({},n,(0,P.Z)((0,P.Z)({},r[n]),{},(0,I.Z)({},t[0].toUpperCase()+t.slice(1),e.permission))))}));case 12:return A(r),a={},e.next=16,n.level.map((function(e){var n=e.page,t="del"===e.operation?"delete":e.operation;return a=0===e.permission?a:a[n]?(0,P.Z)((0,P.Z)({},a),{},(0,I.Z)({},n,[].concat((0,c.Z)(a[n]),[t[0].toUpperCase()+t.slice(1)]))):(0,P.Z)((0,P.Z)({},a),{},(0,I.Z)({},n,[t[0].toUpperCase()+t.slice(1)]))}));case 16:f.setFieldsValue(a);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}catch(n){console.log(n)}}}),[m,Z]),(0,r.useEffect)((function(){m>v&&0!==R.length&&f.setFieldsValue(R)}),[R]);var J=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r,a,o;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u(!0),window.scrollTo({top:0,behavior:"smooth"}),t={id:n.id,name:n.name},n[123],r=(0,b.Z)(n,O),m<=v&&t.name===G.name){e.next=14;break}return e.prev=5,e.next=8,W((0,V.Id)("level",t,m<=v));case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),u(!1),e.abrupt("return");case 14:a=[],K.map((function(e){return B.map((function(n){return a=r[e.toLowerCase()]?[].concat((0,c.Z)(a),[r[e.toLowerCase()].includes(n)?1:0]):[].concat((0,c.Z)(a),[0]),e})),e})),H.map((function(e){return a=r[e.toLowerCase()]?[].concat((0,c.Z)(a),[r[e.toLowerCase()].includes("View")?1:0]):[].concat((0,c.Z)(a),[0]),e})),o={id:m,permission_list:a},U.Z.edit("level",o).then((function(e){201===e.status?W((0,w.c)()):i.ZP.error("Level Manage Error."),u(!1)})).catch((function(e){i.ZP.error("Level Manage Exception"),console.log(e),u(!1)}));case 19:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(n){return e.apply(this,arguments)}}(),B=["View","Add","Edit","Delete"],K=["Member","Goods","Job","Proxy","Browser","Login","Machine","Surfing"],H=["History","Log","Operation"],Q=(0,r.useState)(0),Y=(0,_.Z)(Q,2),X=Y[0],$=Y[1],ee=(0,r.useState)({}),ne=(0,_.Z)(ee,2),te=ne[0],re=ne[1],ae=function(){var e=f.getFieldsValue(),n=(e.name,e.id,(0,b.Z)(e,q)),t={};K.map((function(e){var r=e.toLowerCase(),a={};return B.map((function(e){return a=(0,P.Z)((0,P.Z)({},a),{},(0,I.Z)({},e,"object"===typeof n[r]&&n[r].includes(e)?1:0)),e})),t=(0,P.Z)((0,P.Z)({},t),{},(0,I.Z)({},r,a)),e})),H.map((function(e){var r=e.toLowerCase(),a={View:"object"===typeof n[r]&&n[r].includes("View")?1:0};return t=(0,P.Z)((0,P.Z)({},t),{},(0,I.Z)({},r,a)),e}));var r=function e(n,t){try{var r=Object.keys(n),a=Object.keys(t);if(r.length!==a.length)return!1;for(var i=0,o=r;i<o.length;i++){var s=o[i];if("object"===typeof n[s]){if(!e(n[s],t[s]))return!1}else if(n[s]!==t[s])return!1}}catch(c){return!1}return!0};r(t,g)?$(1):Object.values(t).every((function(e){return Object.values(e).every((function(e){return 0===e}))}))?$(0):$(2);var a={};Object.keys(t).map((function(e){return a=r(t[e],g[e])?(0,P.Z)((0,P.Z)({},a),{},(0,I.Z)({},e,1)):Object.values(t[e]).every((function(e){return 0===e}))?(0,P.Z)((0,P.Z)({},a),{},(0,I.Z)({},e,0)):(0,P.Z)((0,P.Z)({},a),{},(0,I.Z)({},e,2)),e})),re(a)};(0,r.useEffect)((function(){0!==g.length&&ae()}),[g]);var ie=function(e){"all"===e?1===X?(f.resetFields(K.map((function(e){return e.toLowerCase()}))),f.resetFields(H.map((function(e){return e.toLowerCase()})))):f.setFieldsValue(R):1===te[e]?f.resetFields([e]):f.setFieldValue(e,R[e]),ae()};return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{form:f,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:J,children:[(0,p.jsx)(S.Z.Item,{label:"Level No",name:"id",rules:[{required:!0,message:"Please input your level no!"}],initialValue:m,children:(0,p.jsx)(F.Z,{disabled:!0,value:m})}),(0,p.jsx)(S.Z.Item,{label:"Level name",name:"name",rules:[{required:!0,message:"Please input level name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(N.Z,{title:"Role",loading:a,extra:(0,p.jsx)(E.Z,{indeterminate:2===X,onChange:function(){return ie("all")},checked:0!==X,children:"Select All"}),children:[K.map((function(e,n){return(0,p.jsxs)("div",{children:[(0,p.jsxs)(o.Z,{wrap:"nowrap",children:[(0,p.jsx)(s.Z,{flex:"auto",children:(0,p.jsx)(S.Z.Item,{label:e,name:e.toLowerCase(),initialValue:!1,children:(0,p.jsx)(E.Z.Group,{options:B.map((function(n){var t;return{label:n,value:n,disabled:1!==(null===(t=g[e.toLowerCase()])||void 0===t?void 0:t[n])}})),onChange:ae})})}),(0,p.jsx)(s.Z,{flex:"none",style:{paddingTop:"5px",paddingBottom:"5px"},children:(0,p.jsx)(E.Z,{indeterminate:2===te[e.toLowerCase()],onChange:function(){return ie(e.toLowerCase())},checked:0!==te[e.toLowerCase()],children:"Select All"})})]}),(0,p.jsx)(L.Z,{})]},n)})),H.map((function(e,n){return(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:e,name:e.toLowerCase(),initialValue:!1,children:(0,p.jsx)(E.Z.Group,{options:["View"].map((function(n){var t;return{label:n,value:n,disabled:1!==(null===(t=g[e.toLowerCase()])||void 0===t?void 0:t[n])}})),onChange:ae})}),(0,p.jsx)(L.Z,{})]},n)}))]}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(h.Z,{children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})})]})})})},T=t(66818),M=function(){var e=(0,d.I0)(),n=(0,d.v9)((function(e){return e.auth.user})),t=n.id,a=n.name,i=n.level,o=n.parent,s={id:t,name:a,level_id:i,parent_id:o},u=(0,r.useState)([s]),l=(0,_.Z)(u,2),f=l[0],m=l[1],Z=(0,r.useState)(0),h=(0,_.Z)(Z,2),v=h[0],j=h[1],y=(0,r.useState)([]),g=(0,_.Z)(y,2),b=g[0],I=g[1],N=(0,r.useState)(!1),E=(0,_.Z)(N,2),L=E[0],O=E[1],q=(0,d.v9)((function(e){return e.drawer.show})),A=(0,d.v9)((function(e){return e.drawer.id})),M=(0,r.useState)(!1),R=(0,_.Z)(M,2),z=R[0],W=R[1],G=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===A}))[0]})),J=S.Z.useForm(),B=(0,_.Z)(J,1)[0];(0,r.useEffect)((function(){if(q){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.Z.getFamily();case 3:return n=e.sent,e.next=6,m([s].concat((0,c.Z)(n.reduce((function(e,n){return[].concat((0,c.Z)(e),[{id:n.id,name:n.name,level_id:n.level_id}])}),[]))));case 6:W(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n,t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.Z.getList("level");case 3:return n=e.sent,e.next=6,n.result.reduce((function(e,n){return i<n.id?[].concat((0,c.Z)(e),[{id:n.id,name:n.name}]):e}),[]);case 6:return t=e.sent,e.next=9,I(t);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e(),n()}}),[q]);var K=function(){var n=(0,C.Z)((0,k.Z)().mark((function n(t){var r;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t,0!==A&&(r=(0,P.Z)((0,P.Z)({},r),{},{id:A})),A===s.id&&(r=(0,P.Z)((0,P.Z)({},r),{},{level_id:s.level_id,parent:s.parent_id})),O(!0),n.prev=4,n.next=7,e((0,V.Id)("member",r,0!==A));case 7:e((0,w.c)()),B.resetFields(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),console.log(n.t0);case 14:return n.prev=14,O(!1),n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[4,11,14,17]])})));return function(e){return n.apply(this,arguments)}}(),H=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r,a;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n-1);case 2:return B.resetFields(["parent"]),e.next=5,f.reduce((function(e,t){return t.level_id===n-1?[].concat((0,c.Z)(e),[{value:t.id,label:t.name}]):e}),[]);case 5:if(r=e.sent,a=0,0===A){e.next=11;break}return e.next=10,r.findIndex((function(e){return e.value===Number.parseInt(null===G||void 0===G?void 0:G.parent_id)}));case 10:a=e.sent;case 11:B.setFieldsValue({parent:null===(t=r[a])||void 0===t?void 0:t.value});case 12:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){if(B.resetFields(),z){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===A){e.next=4;break}try{A===s.id?(console.log(i),B.setFieldsValue({name:s.name}),B.setFieldsValue({level_id:G.level}),B.setFieldsValue({parent:G.parent})):(B.setFieldsValue({name:G.name}),B.setFieldsValue({level_id:G.level_id}),H(G.level_id))}catch(n){}e.next=7;break;case 4:return e.next=6,H(s.level_id+1);case 6:B.setFieldsValue({level_id:s.level_id+1});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[A,B,z]),(0,p.jsx)(D.Z,{spinning:L,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{form:B,labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:K,autoComplete:"off",children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Level",name:"level_id",rules:[{required:A!==s.id,message:"Please select member level!"}],children:(0,p.jsx)(T.Z,{placeholder:"Select a level",onChange:H,disabled:A===s.id,options:b.reduce((function(e,n){return[].concat((0,c.Z)(e),[{value:n.id,label:n.name}])}),[])})}),(0,p.jsx)(S.Z.Item,{label:"Parent",name:"parent",rules:[{required:A!==s.id,message:"Please select member level!"}],children:(0,p.jsx)(T.Z,{placeholder:"Select a member",disabled:A===s.id,options:f.reduce((function(e,n){return n.level_id===v?[].concat((0,c.Z)(e),[{value:n.id,label:n.name}]):e}),[])})}),(0,p.jsx)(S.Z.Item,{label:"Password",name:"password",rules:[{required:0===A,message:"Please input member password!"},{validator:0===A?function(e,n){return n.length<6?Promise.reject("Password must be longer than 6."):Promise.resolve()}:""}],hasFeedback:!0,children:(0,p.jsx)(F.Z.Password,{})}),(0,p.jsx)(S.Z.Item,{label:"Conform Password",name:"password2",dependencies:["password"],hasFeedback:!0,rules:[{required:0===A,message:"Please confirm member password!"},function(e){var n=e.getFieldValue;return{validator:function(e,t){return t&&n("password")!==t?Promise.reject(new Error("The new password that you entered do not match!")):Promise.resolve()}}}],children:(0,p.jsx)(F.Z.Password,{})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},R=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=S.Z.useForm(),s=(0,_.Z)(o,1)[0],c=(0,d.v9)((function(e){return e.drawer.id})),u=(0,d.v9)((function(e){return e.drawer.show})),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===c}))[0]}));(0,r.useEffect)((function(){if(!0===u){s.resetFields();try{0!==c&&s.setFieldsValue(f)}catch(e){}}}),[c,u]);var m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==c&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:c})),e.prev=3,e.next=6,l((0,V.Id)("goods",t,0!==c));case 6:l((0,w.c)()),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},form:s,onFinish:m,autoComplete:"off",children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input goods name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Nvid",name:"nvid",rules:[{required:!0,message:"Please input nvid!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Keyword1",name:"keyword1",rules:[{required:!0,message:"Please input keyword1!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Keyword2",name:"keyword2",rules:[{required:!0,message:"Please input keyword2!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Keyword3",name:"keyword3",rules:[{required:!0,message:"Please input keyword3!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},z=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=S.Z.useForm(),s=(0,_.Z)(o,1)[0],c=(0,d.v9)((function(e){return e.drawer.id})),u=(0,d.v9)((function(e){return e.drawer.show})),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===c}))[0]}));(0,r.useEffect)((function(){if(!0===u){s.resetFields();try{0!==c&&s.setFieldsValue(f)}catch(e){}}}),[c,u]);var m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==c&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:c})),e.prev=3,e.next=6,l((0,V.Id)("proxy",t,0!==c));case 6:l((0,w.c)()),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:m,autoComplete:"off",form:s,children:[(0,p.jsx)(S.Z.Item,{label:"IP",name:"ip",rules:[{required:!0,message:"Please input IP!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Port",name:"port",rules:[{required:!0,message:"Please input port!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"User Name",name:"user",children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Password",name:"password",children:(0,p.jsx)(F.Z.Password,{})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},W=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=S.Z.useForm(),s=(0,_.Z)(o,1)[0],c=(0,d.v9)((function(e){return e.drawer.id})),u=(0,d.v9)((function(e){return e.drawer.show})),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===c}))[0]}));(0,r.useEffect)((function(){if(!0===u){s.resetFields();try{0!==c&&s.setFieldsValue(f)}catch(e){}}}),[c,u]);var m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==c&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:c})),e.prev=3,e.next=6,l((0,V.Id)("browser",t,0!==c));case 6:l((0,w.c)()),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:m,form:s,autoComplete:"off",children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Agent",name:"agent",rules:[{required:!0,message:"Please input agent!"}],children:(0,p.jsx)(F.Z.TextArea,{autoSize:{minRows:3,maxRows:10}})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},G=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=S.Z.useForm(),s=(0,_.Z)(o,1)[0],c=(0,d.v9)((function(e){return e.drawer.id})),u=(0,d.v9)((function(e){return e.drawer.show})),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===c}))[0]}));(0,r.useEffect)((function(){if(!0===u){s.resetFields();try{0!==c&&s.setFieldsValue(f)}catch(e){}}}),[c,u]);var m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==c&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:c})),e.prev=3,e.next=6,l((0,V.Id)("login",t,0!==c));case 6:l((0,w.c)()),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:m,autoComplete:"off",form:s,children:[(0,p.jsx)(S.Z.Item,{label:"User Name",name:"user",rules:[{required:!0,message:"Please input user name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Password",name:"password",children:(0,p.jsx)(F.Z.Password,{})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},J=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=S.Z.useForm(),s=(0,_.Z)(o,1)[0],c=(0,d.v9)((function(e){return e.drawer.id})),u=(0,d.v9)((function(e){return e.drawer.show})),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===c}))[0]}));(0,r.useEffect)((function(){if(!0===u){s.resetFields();try{0!==c&&s.setFieldsValue(f)}catch(e){}}}),[c,u]);var m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==c&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:c})),e.prev=3,e.next=6,l((0,V.Id)("surfing",t,0!==c));case 6:l((0,w.c)()),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:m,autoComplete:"off",form:s,children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"URL",name:"url",rules:[{required:!0,message:"Please input URL!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},B=t(40959),K=t(84506),H=t(44960),Q=t(23293),Y=t(81529),X=t(10297),$=function(e){var n=(0,K.Z)(Y.Z.login),t=n[0],a=n.slice(1),i=(0,r.useState)([]),o=(0,_.Z)(i,2),s=o[0],u=o[1],l=(0,d.v9)((function(e){return e.drawer.show})),f=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){!0===l&&u([])}),[f,l]),t={dataIndex:"id",key:"id",render:function(n){return(0,p.jsx)(H.ZP,{checked:n===e.currentData.id,onClick:function(){return e.setCurrentData.apply(e,(0,c.Z)(s.filter((function(e){return e.id===n}))))}})}},(0,r.useEffect)((function(){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getJobLogin();case 2:n=e.sent,u((0,X.Z)(n.result,"login"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(n){console.log(n)}}),[]);var m=[t].concat((0,c.Z)(a));return(0,p.jsx)("div",{children:(0,p.jsx)(Q.Z,{columns:m,dataSource:s})})},ee=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],c=(0,r.useState)({}),u=(0,_.Z)(c,2),l=u[0],f=u[1],m=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){f(m&&0!==m&&e.initialData?e.initialData:{})}),[m,e.initialData]),(0,r.useEffect)((function(){a&&i(!1),e.form.setFieldValue("login_id",l.id)}),[l]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:"Login",name:"login_id",hidden:!0,children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(S.Z.Item,{label:"Login",children:[(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(s.Z,{flex:"auto",children:(0,p.jsx)(F.Z,{className:"w-full",value:l.user,disabled:!0})}),"{}"!==JSON.stringify(l)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Edit"})}),(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){e.form.setFieldValue("login_id",""),f({})},danger:!0,children:"Delete"})})]}):(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Add"})})]}),a&&(0,p.jsx)(B.Z,{title:"Select login",open:a,footer:[(0,p.jsx)(x.ZP,{onClick:function(){return i(!1)},children:"Cancel"},"cancel")],onCancel:function(){return i(!1)},children:(0,p.jsx)($,{modalOpen:a,setModalOpen:i,currentData:l,setCurrentData:f})})]})]})},ne=function(e){var n=(0,K.Z)(Y.Z.machine),t=n[0],a=n.slice(1),i=(0,r.useState)([]),o=(0,_.Z)(i,2),s=o[0],u=o[1],l=(0,d.v9)((function(e){return e.drawer.show})),f=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){!0===l&&u([])}),[f,l]),t=(0,P.Z)((0,P.Z)({},t),{},{render:function(n){return(0,p.jsx)(H.ZP,{checked:n===e.currentData.no,onClick:function(){return e.setCurrentData.apply(e,(0,c.Z)(s.filter((function(e){return e.no===n}))))}})}}),(0,r.useEffect)((function(){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getList("machine");case 2:n=e.sent,u((0,X.Z)(n.result,"machine"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(n){console.log(n)}}),[]);var m=[t].concat((0,c.Z)(a));return(0,p.jsx)("div",{children:(0,p.jsx)(Q.Z,{columns:m,dataSource:s})})},te=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],c=(0,r.useState)({}),u=(0,_.Z)(c,2),l=u[0],f=u[1],m=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){f(m&&0!==m&&e.initialData?e.initialData:{})}),[m,e.initialData]),(0,r.useEffect)((function(){console.log(l),a&&i(!1),e.form.setFieldValue("machine_id",l.id)}),[l]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:"Machine",name:"machine_id",hidden:!0,children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(S.Z.Item,{label:"Machine",children:[(0,p.jsxs)(o.Z,{wrap:!1,children:[(0,p.jsx)(s.Z,{flex:"auto",children:(0,p.jsx)(F.Z,{value:l.type,disabled:!0})}),(0,p.jsx)(s.Z,{flex:"auto",children:(0,p.jsx)(F.Z,{value:l.machine_id,disabled:!0})}),"{}"!==JSON.stringify(l)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Edit"})}),(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){e.form.setFieldValue("machine_id",""),f({})},danger:!0,children:"Delete"})})]}):(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Add"})})]}),a&&(0,p.jsx)(B.Z,{title:"Select Machine",open:a,footer:[(0,p.jsx)(x.ZP,{onClick:function(){return i(!1)},children:"Cancel"},"cancel")],onCancel:function(){return i(!1)},children:(0,p.jsx)(ne,{modalOpen:a,setModalOpen:i,currentData:l,setCurrentData:f})})]})]})},re=function(e){var n=(0,K.Z)(Y.Z.proxy),t=n[0],a=n.slice(1),i=(0,r.useState)([]),o=(0,_.Z)(i,2),s=o[0],u=o[1],l=(0,d.v9)((function(e){return e.drawer.show})),f=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){!0===l&&u([])}),[f,l]),t={dataIndex:"id",key:"id",render:function(n){return(0,p.jsx)(H.ZP,{checked:n===e.currentData.id,onClick:function(){return e.setCurrentData.apply(e,(0,c.Z)(s.filter((function(e){return e.id===n}))))}})}},(0,r.useEffect)((function(){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getList("proxy");case 2:n=e.sent,u((0,X.Z)(n.result,"proxy"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(n){console.log(n)}}),[]);var m=[t].concat((0,c.Z)(a));return(0,p.jsx)("div",{children:(0,p.jsx)(Q.Z,{columns:m,dataSource:s})})},ae=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],c=(0,r.useState)({}),u=(0,_.Z)(c,2),l=u[0],f=u[1],m=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){f(m&&0!==m&&e.initialData?e.initialData:{})}),[m,e.initialData]),(0,r.useEffect)((function(){a&&i(!1),e.form.setFieldValue("proxy_id",l.id)}),[l]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:"Proxy",name:"proxy_id",hidden:!0,children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(S.Z.Item,{label:"Proxy",children:[(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(s.Z,{flex:"auto",children:(0,p.jsx)(F.Z,{className:"w-full",value:l.ip,disabled:!0})}),"{}"!==JSON.stringify(l)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Edit"})}),(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){e.form.setFieldValue("proxy_id",""),f({})},danger:!0,children:"Delete"})})]}):(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Add"})})]}),a&&(0,p.jsx)(B.Z,{title:"Select proxy",open:a,footer:[(0,p.jsx)(x.ZP,{onClick:function(){return i(!1)},children:"Cancel"},"cancel")],onCancel:function(){return i(!1)},children:(0,p.jsx)(re,{modalOpen:a,setModalOpen:i,currentData:l,setCurrentData:f})})]})]})},ie=function(e){var n=(0,K.Z)(Y.Z.browser),t=n[0],a=n.slice(1),i=(0,r.useState)([]),o=(0,_.Z)(i,2),s=o[0],u=o[1],l=(0,d.v9)((function(e){return e.drawer.show})),f=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){!0===l&&u([])}),[f,l]),t={dataIndex:"id",key:"id",render:function(n){return(0,p.jsx)(H.ZP,{checked:n===e.currentData.id,onClick:function(){return e.setCurrentData.apply(e,(0,c.Z)(s.filter((function(e){return e.id===n}))))}})}},(0,r.useEffect)((function(){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getList("browser");case 2:n=e.sent,u((0,X.Z)(n.result,"browser"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(n){console.log(n)}}),[]);var m=[t].concat((0,c.Z)(a));return(0,p.jsx)("div",{children:(0,p.jsx)(Q.Z,{columns:m,dataSource:s})})},oe=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],c=(0,r.useState)({}),u=(0,_.Z)(c,2),l=u[0],f=u[1],m=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){f(m&&0!==m&&e.initialData?e.initialData:{})}),[m,e.initialData]),(0,r.useEffect)((function(){a&&i(!1),e.form.setFieldValue("browser_id",l.id)}),[l]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:"Browser",name:"browser_id",hidden:!0,children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(S.Z.Item,{label:"Browser",children:[(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(s.Z,{flex:"auto",children:(0,p.jsx)(F.Z,{className:"w-full",value:l.name,disabled:!0})}),"{}"!==JSON.stringify(l)?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Edit"})}),(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){e.form.setFieldValue("browser_id",""),f({})},danger:!0,children:"Delete"})})]}):(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Add"})})]}),a&&(0,p.jsx)(B.Z,{title:"Select browser",open:a,footer:[(0,p.jsx)(x.ZP,{onClick:function(){return i(!1)},children:"Cancel"},"cancel")],onCancel:function(){return i(!1)},children:(0,p.jsx)(ie,{modalOpen:a,setModalOpen:i,currentData:l,setCurrentData:f})})]})]})},se=t(82464),ce=function(e){var n=(0,K.Z)(Y.Z.goods),t=n[0],a=n.slice(1),i=(0,r.useState)([]),o=(0,_.Z)(i,2),s=o[0],u=o[1],l=(0,d.v9)((function(e){return e.drawer.show})),f=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){!0===l&&u([])}),[f,l]),t={dataIndex:"id",key:"id",fixed:"left",render:function(n){return(0,p.jsx)(E.Z,{checked:e.currentData.some((function(e){return e.id===n})),onClick:function(){return m(n)}})}};var m=function(n){e.currentData.some((function(e){return e.id===n}))?e.setCurrentData(e.currentData.filter((function(e){return e.id!==n}))):e.setCurrentData([].concat((0,c.Z)(e.currentData),(0,c.Z)(s.filter((function(e){return e.id===n})))))};(0,r.useEffect)((function(){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getList("goods");case 2:n=e.sent,u((0,X.Z)(n.result,"goods"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(n){console.log(n)}}),[]);var Z=[t].concat((0,c.Z)(a));return(0,p.jsx)("div",{children:(0,p.jsx)(Q.Z,{columns:Z,dataSource:s})})},ue=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],u=(0,r.useState)([]),l=(0,_.Z)(u,2),f=l[0],m=l[1],Z=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){m(Z&&0!==Z?e.initialData:[])}),[Z,e.initialData]),(0,r.useEffect)((function(){e.form.setFieldValue("goods",f.map((function(e){return e.id})))}),[f]);var h=(0,K.Z)(Y.Z.goods),v=(h[0],h.slice(1)),j=[{title:"Id",dataIndex:"id",key:"id",fixed:"left"}].concat((0,c.Z)(v),[{title:"Action",key:"action",fixed:"right",render:function(e){return(0,p.jsx)(se.Z,{twoToneColor:"#eb2f96",className:"cursor-pointer",onClick:function(){return n=e.id,void m(f.filter((function(e){return e.id!==n})));var n}})}}]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:"Goods",name:"goods",hidden:!0,children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(S.Z.Item,{label:"Goods",children:[(0,p.jsx)(o.Z,{children:(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Add"})})}),a&&(0,p.jsx)(B.Z,{title:"Select goods",open:a,footer:[(0,p.jsx)(x.ZP,{type:"primary",onClick:function(){return i(!1)},children:"OK"},"ok")],onCancel:function(){return i(!1)},children:(0,p.jsx)(ce,{modalOpen:a,setModalOpen:i,currentData:f,setCurrentData:m})})]}),(0,p.jsx)(o.Z,{justify:"end",className:"ml-10 mb-2",children:(0,p.jsx)(s.Z,{className:"w-full",children:(0,p.jsx)(Q.Z,{columns:j,dataSource:f.map((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},{key:n})}))})})})]})},le=t(98597),de=function(e){var n=(0,K.Z)(Y.Z.surfing),t=n[0],a=n.slice(1),i=(0,r.useState)([]),o=(0,_.Z)(i,2),s=o[0],u=o[1],l=(0,d.v9)((function(e){return e.drawer.show})),f=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){!0===l&&u([])}),[f,l]),t={dataIndex:"id",key:"id",render:function(n){return(0,p.jsx)(E.Z,{checked:e.currentData.some((function(e){return e.id===n})),onClick:function(){return m(n)}})}};var m=function(n){e.currentData.some((function(e){return e.id===n}))?e.setCurrentData(e.currentData.filter((function(e){return e.id!==n}))):e.setCurrentData([].concat((0,c.Z)(e.currentData),(0,c.Z)(s.filter((function(e){return e.id===n})))))};(0,r.useEffect)((function(){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getList("surfing");case 2:n=e.sent,u((0,X.Z)(n.result,"surfing"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(n){console.log(n)}}),[]);var Z=[t].concat((0,c.Z)(a));return(0,p.jsx)("div",{children:(0,p.jsx)(Q.Z,{columns:Z,dataSource:s})})},fe=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],u=(0,r.useState)([]),l=(0,_.Z)(u,2),f=l[0],m=l[1],Z=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){m(Z&&0!==Z?e.initialData:[])}),[Z,e.initialData]),(0,r.useEffect)((function(){console.log()}),[f]),(0,r.useEffect)((function(){0!==f.length&&m(f.map((function(e){return(0,P.Z)((0,P.Z)({},e),{},{delay:e.delay?e.delay:0})})))}),[a]),(0,r.useEffect)((function(){e.form.setFieldValue("surfing",f.map((function(e){return{id:e.id,delay:e.delay}})))}),[f]);var h=(0,K.Z)(Y.Z.surfing),v=(h[0],h.slice(1)),j=[{title:"Id",dataIndex:"id",key:"id"}].concat((0,c.Z)(v),[{title:"Delay(s)",key:"delay",render:function(e){return(0,p.jsx)(le.Z,{value:e.delay,min:0,onChange:function(n){return function(e,n){m(f.reduce((function(t,r){return r.id===e?[].concat((0,c.Z)(t),[(0,P.Z)((0,P.Z)({},r),{},{delay:n})]):[].concat((0,c.Z)(t),[r])}),[]))}(e.id,n)}})}},{title:"Action",key:"action",render:function(e){return(0,p.jsx)(se.Z,{twoToneColor:"#eb2f96",className:"cursor-pointer",onClick:function(){return n=e.id,void m(f.filter((function(e){return e.id!==n})));var n}})}}]);return(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:"Surfing",name:"surfing",hidden:!0,children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(S.Z.Item,{label:"Surfing",children:[(0,p.jsx)(o.Z,{children:(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Add"})})}),a&&(0,p.jsx)(B.Z,{title:"Select surfing",open:a,footer:[(0,p.jsx)(x.ZP,{type:"primary",onClick:function(){return i(!1)},children:"OK"},"ok")],onCancel:function(){return i(!1)},children:(0,p.jsx)(de,{modalOpen:a,setModalOpen:i,currentData:f,setCurrentData:m})})]}),(0,p.jsx)(o.Z,{justify:"end",className:"ml-10 mb-2",children:(0,p.jsx)(s.Z,{className:"w-full",children:(0,p.jsx)(Q.Z,{columns:j,dataSource:f.map((function(e,n){return(0,P.Z)((0,P.Z)({},e),{},{key:n})}))})})})]})},pe=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=(0,d.v9)((function(e){return e.drawer.id})),s=(0,d.v9)((function(e){return e.drawer.show})),c=(0,d.I0)(),u=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===o}))[0]}));(0,r.useEffect)((function(){if(!0===s){f.resetFields();try{0!==o&&f.setFieldValue("name",u.name)}catch(e){}}}),[o,s]);var l=S.Z.useForm(),f=(0,_.Z)(l,1)[0],m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==o&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:o})),e.prev=3,console.log(t),e.next=7,c((0,V.Id)("job",t,0!==o));case 7:c((0,w.c)()),i(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),i(!1);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:4},wrapperCol:{span:20},style:{maxWidth:600},onFinish:m,autoComplete:"off",form:f,children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(ee,{form:f,initialData:null===u||void 0===u?void 0:u.login}),(0,p.jsx)(te,{form:f,initialData:null===u||void 0===u?void 0:u.machine}),(0,p.jsx)(ae,{form:f,initialData:null===u||void 0===u?void 0:u.proxy}),(0,p.jsx)(oe,{form:f,initialData:null===u||void 0===u?void 0:u.browser}),(0,p.jsx)(ue,{form:f,initialData:null===u||void 0===u?void 0:u.goods}),(0,p.jsx)(fe,{form:f,initialData:null===u||void 0===u?void 0:u.surfing}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},me=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=S.Z.useForm(),s=(0,_.Z)(o,1)[0],c=(0,d.v9)((function(e){return e.drawer.id})),u=(0,d.v9)((function(e){return e.drawer.show})),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===c}))[0]}));(0,r.useEffect)((function(){if(!0===u){s.resetFields();try{0!==c&&s.setFieldsValue(f)}catch(e){}}}),[c,u]);var m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==c&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:c})),e.prev=3,e.next=6,l((0,V.Id)("machine",t,0!==c));case 6:l((0,w.c)()),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:m,autoComplete:"off",form:s,children:[(0,p.jsx)(S.Z.Item,{label:"IP",name:"ip",rules:[{required:!0,message:"Please input ip"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Type",name:"type",rules:[{required:!0,message:"Please select type"}],children:(0,p.jsxs)(T.Z,{children:[(0,p.jsx)(T.Z.Option,{value:"PC",children:"PC"}),(0,p.jsx)(T.Z.Option,{value:"Phone",children:"Phone"})]})}),(0,p.jsx)(S.Z.Item,{label:"Machine ID",name:"machine_id",rules:[{required:!0,message:"Please input machine id"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},Ze=t(65841),he=t(36384),xe=t(76452),ve=t(84635),je=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],o=t[1],s=(0,r.useState)([]),c=(0,_.Z)(s,2),u=c[0],l=c[1],f=S.Z.useForm(),m=(0,_.Z)(f,1)[0],Z=(0,d.v9)((function(e){return e.drawer.id})),h=(0,d.v9)((function(e){return e.drawer.show})),v=(0,d.I0)(),j=(0,d.v9)((function(e){return e.data.data})),y=(0,r.useState)((0,d.v9)((function(e){return e.data.data}))),g=(0,_.Z)(y,2),b=g[0],I=g[1],N={action:"".concat(ve.Z,"file/upload"),listType:"picture-card",fileList:u,beforeUpload:function(e){var n=e.uid+"_"+e.lastModified+"_"+e.name;return new File([e],n,{type:e.type})},onChange:function(e){var n=e.fileList;l(n)},onPreview:function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r,a;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.url){e.next=5;break}return e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(n.originFileObj),t.onload=function(){return e(t.result)}}));case 4:t=e.sent;case 5:(r=new Image).src=t,null===(a=window.open(t))||void 0===a||a.document.write(r.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onRemove:function(e){var n=e.name;U.Z.delUpload({filename:n})}};(0,r.useEffect)((function(){if(!0===h){m.resetFields(),l([]);try{if(0!==Z){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.Z.getCategoryForParentSelect(Z.id);case 3:n=e.sent,I(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e(),m.setFieldsValue(Z);for(var n=[],t=0;t<3;t++)Z["image".concat(t+1)]&&n.push({uid:"-1",name:Z["image".concat(t+1)],status:"done",url:"".concat(ve.Z,"uploads/").concat(Z["image".concat(t+1)])});l(n)}else I(j)}catch(r){}}}),[Z,h]);var E=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.length<1)){e.next=4;break}i.ZP.warning("Select images!"),e.next=19;break;case 4:for(o(!0),t=n,r=0;r<3;r++)t["image".concat(r+1)]=u[r]?u[r].name:null;return 0!==Z&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:Z.id})),void 0===t.parent_id&&(t.parent_id=0),e.prev=9,e.next=12,v((0,V.Id)("coupon_category",t,0!==Z));case 12:v((0,w.c)()),o(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),o(!1);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:E,form:m,autoComplete:"off",children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Parent Category",name:"parent_id",children:(0,p.jsx)(he.Z,{showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto",minWidth:300},placeholder:"Please select",placement:"bottomLeft",allowClear:!0,treeDefaultExpandAll:!0,treeData:function e(n){return n.map((function(n){return n.children?n.children.length?(0,P.Z)((0,P.Z)({},n),{},{title:n.name,value:n.id,children:e(n.children)}):(0,P.Z)((0,P.Z)({},n),{},{title:n.name,value:n.id}):{}}))}(b)})}),(0,p.jsx)(S.Z.Item,{label:"Images",name:"image",children:(0,p.jsx)(Ze.Z,{rotationSlider:!0,children:(0,p.jsx)(xe.Z,(0,P.Z)((0,P.Z)({},N),{},{children:u.length<3&&"+ Upload"}))})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},ye=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],o=t[1],s=(0,r.useState)([]),c=(0,_.Z)(s,2),u=c[0],l=c[1],f=S.Z.useForm(),m=(0,_.Z)(f,1)[0],Z=(0,d.v9)((function(e){return e.drawer.id})),h=(0,d.v9)((function(e){return e.drawer.show})),v=(0,d.I0)(),j=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===Z}))[0]})),y=(0,r.useState)([]),g=(0,_.Z)(y,2),b=g[0],I=g[1],N=(0,r.useState)([]),E=(0,_.Z)(N,2),L=E[0],O=E[1],q={action:"".concat(ve.Z,"file/upload"),listType:"picture-card",fileList:u,beforeUpload:function(e){var n=e.uid+"_"+e.lastModified+"_"+e.name;return new File([e],n,{type:e.type})},onChange:function(e){var n=e.fileList;l(n)},onPreview:function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r,a;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.url){e.next=5;break}return e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(n.originFileObj),t.onload=function(){return e(t.result)}}));case 4:t=e.sent;case 5:(r=new Image).src=t,null===(a=window.open(t))||void 0===a||a.document.write(r.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onRemove:function(e){var n=e.name;U.Z.delUpload({filename:n})}};(0,r.useEffect)((function(){if(!0===h){m.resetFields(),l([]);var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.Z.getCategoryForCoupon();case 3:n=e.sent,I(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e();var n=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U.Z.getBrands();case 3:n=e.sent,O(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();n();try{if(0!==Z){m.setFieldsValue(j);for(var t=[],r=0;r<3;r++)j["image".concat(r+1)]&&t.push({uid:"-1",name:j["image".concat(r+1)],status:"done",url:"".concat(ve.Z,"uploads/").concat(j["image".concat(r+1)])});l(t)}}catch(a){}}}),[Z,h]);var A=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.length<1)){e.next=4;break}i.ZP.warning("Select images!"),e.next=19;break;case 4:for(o(!0),t=n,r=0;r<3;r++)t["image".concat(r+1)]=u[r]?u[r].name:null;return 0!==Z&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:Z})),void 0===t.discount&&(t.discount=0),e.prev=9,e.next=12,v((0,V.Id)("coupon",t,0!==Z));case 12:v((0,w.c)()),o(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),o(!1);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:A,form:m,autoComplete:"off",children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Description",name:"desc",rules:[{required:!0,message:"Please input description!"}],children:(0,p.jsx)(F.Z.TextArea,{autoSize:{minRows:3,maxRows:6}})}),(0,p.jsx)(S.Z.Item,{label:"Category",name:"category_id",rules:[{required:!0,message:"Please input Category!"}],children:(0,p.jsx)(he.Z,{showSearch:!0,dropdownStyle:{maxHeight:400,overflow:"auto",minWidth:300},placeholder:"Please select",placement:"bottomLeft",allowClear:!0,treeDefaultExpandAll:!0,treeData:function e(n){return n.map((function(n){return n.children?n.children.length?(0,P.Z)((0,P.Z)({},n),{},{title:n.name,value:n.id,disabled:!0,children:e(n.children)}):(0,P.Z)((0,P.Z)({},n),{},{disabled:!n.status,title:n.name,value:n.id}):{}}))}(b)})}),(0,p.jsx)(S.Z.Item,{label:"Brand",name:"brand_id",rules:[{required:!0,message:"Please input brand!"}],children:(0,p.jsx)(T.Z,{showSearch:!0,placeholder:"Select a brand",optionFilterProp:"children",filterOption:function(e,n){var t;return(null!==(t=null===n||void 0===n?void 0:n.label)&&void 0!==t?t:"").toLowerCase().includes(e.toLowerCase())},options:L.map((function(e){return{label:e.name,value:e.id}}))})}),(0,p.jsx)(S.Z.Item,{label:"Price",name:"price",rules:[{required:!0,message:"Please input price!"}],children:(0,p.jsx)(le.Z,{min:1,defaultValue:0,formatter:function(e){return"".concat(e)}})}),(0,p.jsx)(S.Z.Item,{label:"Discount",name:"discount",children:(0,p.jsx)(le.Z,{min:0,defaultValue:0,formatter:function(e){return"".concat(e,"%")}})}),(0,p.jsx)(S.Z.Item,{label:"Images",name:"image",children:(0,p.jsx)(Ze.Z,{rotationSlider:!0,children:(0,p.jsx)(xe.Z,(0,P.Z)((0,P.Z)({},q),{},{children:u.length<3&&"+ Upload"}))})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},ge=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],o=t[1],s=(0,r.useState)([]),c=(0,_.Z)(s,2),u=c[0],l=c[1],f=S.Z.useForm(),m=(0,_.Z)(f,1)[0],Z=(0,d.v9)((function(e){return e.drawer.id})),h=(0,d.v9)((function(e){return e.drawer.show})),v=(0,d.I0)(),j=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===Z}))[0]})),y={action:"".concat(ve.Z,"file/upload"),listType:"picture-card",fileList:u,beforeUpload:function(e){var n=e.uid+"_"+e.lastModified+"_"+e.name;return new File([e],n,{type:e.type})},onChange:function(e){var n=e.fileList;l(n)},onPreview:function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r,a;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.url){e.next=5;break}return e.next=4,new Promise((function(e){var t=new FileReader;t.readAsDataURL(n.originFileObj),t.onload=function(){return e(t.result)}}));case 4:t=e.sent;case 5:(r=new Image).src=t,null===(a=window.open(t))||void 0===a||a.document.write(r.outerHTML);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),onRemove:function(e){var n=e.name;U.Z.delUpload({filename:n})}};(0,r.useEffect)((function(){if(!0===h){m.resetFields(),l([]);try{if(0!==Z){m.setFieldsValue(j);for(var e=[],n=0;n<3;n++)j["image".concat(n+1)]&&e.push({uid:"-1",name:j["image".concat(n+1)],status:"done",url:"".concat(ve.Z,"uploads/").concat(j["image".concat(n+1)])});l(e)}}catch(t){}}}),[Z,h]);var g=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t,r;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.length<1)){e.next=4;break}i.ZP.warning("Select images!"),e.next=18;break;case 4:for(o(!0),t=n,r=0;r<3;r++)t["image".concat(r+1)]=u[r]?u[r].name:null;return 0!==Z&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:Z})),e.prev=8,e.next=11,v((0,V.Id)("brand",t,0!==Z));case 11:v((0,w.c)()),o(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),o(!1);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},onFinish:g,form:m,autoComplete:"off",children:[(0,p.jsx)(S.Z.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Images",name:"image",children:(0,p.jsx)(Ze.Z,{rotationSlider:!0,children:(0,p.jsx)(xe.Z,(0,P.Z)((0,P.Z)({},y),{},{children:u.length<3&&"+ Upload"}))})}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},we=function(e){var n=(0,K.Z)(Y.Z.job_select),t=n[0],a=n.slice(1),i=(0,r.useState)([]),o=(0,_.Z)(i,2),s=o[0],u=o[1],l=(0,d.v9)((function(e){return e.drawer.show})),f=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){!0===l&&u([])}),[f,l]),t={dataIndex:"id",key:"id",render:function(n){return(0,p.jsx)(H.ZP,{checked:n===e.currentData.id,onClick:function(){return e.setCurrentData.apply(e,(0,c.Z)(s.filter((function(e){return e.id===n}))))}})}},(0,r.useEffect)((function(){var e=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(){var n;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.Z.getList("job");case 2:n=e.sent,u((0,X.Z)(n.result,"job"));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(n){console.log(n)}}),[]);var m=[t].concat((0,c.Z)(a));return(0,p.jsx)("div",{children:(0,p.jsx)(Q.Z,{columns:m,dataSource:s})})},be=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],c=(0,r.useState)({}),u=(0,_.Z)(c,2),l=u[0],f=u[1],m=(0,d.v9)((function(e){return e.drawer.id}));(0,r.useEffect)((function(){f(m&&0!==m&&e.initialData?e.initialData:{})}),[m,e.initialData]),(0,r.useEffect)((function(){a&&i(!1),e.form.setFieldValue("job_id",l.id)}),[l]);return console.log(l),(0,p.jsxs)("div",{children:[(0,p.jsx)(S.Z.Item,{label:"Job",name:"job_id",hidden:!0,children:(0,p.jsx)(F.Z,{})}),(0,p.jsxs)(S.Z.Item,{label:"Job",children:[(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(s.Z,{flex:"auto",children:(0,p.jsx)(F.Z,{className:"w-full",value:l.name,disabled:!0})}),"{}"!==JSON.stringify(l)&&-1!==l.id?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Edit"})}),(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){e.form.setFieldValue("job_id",""),f({})},danger:!0,children:"Delete"})})]}):(0,p.jsx)(s.Z,{flex:"none",children:(0,p.jsx)(x.ZP,{onClick:function(){return i(!0)},children:"Add"})})]}),a&&(0,p.jsx)(B.Z,{title:"Select job",open:a,footer:[(0,p.jsx)(x.ZP,{onClick:function(){return i(!1)},children:"Cancel"},"cancel")],onCancel:function(){return i(!1)},children:(0,p.jsx)(we,{modalOpen:a,setModalOpen:i,currentData:l,setCurrentData:f})})]})]})},ke=function(e){var n=(0,r.useState)(!1),t=(0,_.Z)(n,2),a=t[0],i=t[1],o=S.Z.useForm(),s=(0,_.Z)(o,1)[0],c=(0,d.v9)((function(e){return e.drawer.id})),u=(0,d.v9)((function(e){return e.drawer.show})),l=(0,d.I0)(),f=(0,d.v9)((function(e){return e.data.data.filter((function(e){return e.id===c}))[0]}));(0,r.useEffect)((function(){if(!0===u){s.resetFields();try{0!==c&&s.setFieldsValue(f)}catch(e){}}}),[c,u]);var m=function(){var e=(0,C.Z)((0,k.Z)().mark((function e(n){var t;return(0,k.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),t=n,0!==c&&(t=(0,P.Z)((0,P.Z)({},t),{},{id:c})),e.prev=3,e.next=6,l((0,V.Id)("coupon_user",t,0!==c));case 6:l((0,w.c)()),i(!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i(!1);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}();return(0,p.jsx)(D.Z,{spinning:a,children:(0,p.jsx)("div",{className:"my-10",children:(0,p.jsxs)(S.Z,{labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:m,autoComplete:"off",form:s,children:[(0,p.jsx)(S.Z.Item,{label:"User Name",name:"user",rules:[{required:!0,message:"Please input user name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input password!"}],children:(0,p.jsx)(F.Z.Password,{})}),(0,p.jsx)(S.Z.Item,{label:"Nv User Name",name:"nv_user",rules:[{required:!0,message:"Please input Nv User Name!"}],children:(0,p.jsx)(F.Z,{})}),(0,p.jsx)(S.Z.Item,{label:"Nv Password",name:"nv_password",rules:[{required:!0,message:"Please input nv password!"}],children:(0,p.jsx)(F.Z.Password,{})}),(0,p.jsx)(be,{form:s,initialData:f?{id:f.job_id,name:f.job_name}:{id:"",name:""}}),(0,p.jsx)(S.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,p.jsx)(x.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})},Ie=function(){var e=(0,d.I0)(),n=(0,d.v9)((function(e){return e.route.name})),t=(0,d.v9)((function(e){return e.drawer}));return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(g.Z,{title:t.title,width:720,open:t.show,onClose:function(){e((0,w.c)())},bodyStyle:{paddingBottom:80},children:function(){switch(n){case"level":return(0,p.jsx)(A,{});case"member":return(0,p.jsx)(M,{});case"goods":return(0,p.jsx)(R,{});case"proxy":return(0,p.jsx)(z,{});case"browser":return(0,p.jsx)(W,{});case"login":return(0,p.jsx)(G,{});case"machine":return(0,p.jsx)(me,{});case"surfing":return(0,p.jsx)(J,{});case"job":return(0,p.jsx)(pe,{});case"coupon_user":return(0,p.jsx)(ke,{});case"coupon_category":return(0,p.jsx)(je,{});case"coupon":return(0,p.jsx)(ye,{});case"brand":return(0,p.jsx)(ge,{});default:return(0,p.jsx)("div",{})}}()})})};function Pe(e){var n=e.children,t=(0,a.v9)((function(e){return e.route.name})),c=(0,a.v9)((function(e){return e.auth.isLoggedIn})),u=(0,a.v9)((function(e){return e.auth.isLoggedIn?e.auth.user.permission:{}})),l=(0,d.I0)(),Z=function(e){l((0,f.p)(e))};return r.useEffect((function(){"dashboard"===t||"coupon_category"===t||"coupon"===t||"brand"===t||"advertisement"===t||"coupon_user"===t||u[t]&&1===u[t].view||"auth/login"!==t&&i.ZP.open({type:"warning",content:"You have no permission"})}),[t,u]),c?"dashboard"===t||"coupon_category"===t||"coupon"===t||"brand"===t||"advertisement"===t||"coupon_user"===t||u[t]&&1===u[t].view?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(Ie,{}),(0,p.jsx)("div",{className:"mb-5",children:(0,p.jsx)(y,{})}),(0,p.jsxs)(o.Z,{children:[(0,p.jsx)(s.Z,{span:4,className:"h-64px sticky top-0",children:(0,p.jsx)(m,{})}),(0,p.jsx)(s.Z,{span:20,className:"p-10",children:n})]})]}):(0,p.jsx)("div",{onLoad:function(){return Z("dashboard")}}):(0,p.jsx)("div",{onLoad:function(){return Z("auth/login")}})}},81529:function(e,n,t){var r=t(20952),a=t(80184),i={level:[{title:"Id",dataIndex:"id",key:"id"},{title:"Name",dataIndex:"name",key:"name"}],member:[{title:"No",dataIndex:"no",key:"no"},{title:"Name",dataIndex:"name",key:"name"},{title:"Level",dataIndex:"level",key:"level"},{title:"Parent",dataIndex:"parent",key:"parent"}],goods:[{title:"No",dataIndex:"no",key:"no",fixed:"left"},{title:"Name",dataIndex:"name",key:"name",fixed:"left"},{title:"Nvid",dataIndex:"nvid",key:"nvid"},{title:"Keyword1",dataIndex:"keyword1",key:"keyword1"},{title:"Keyword2",dataIndex:"keyword2",key:"keyword2"},{title:"Keyword3",dataIndex:"keyword3",key:"keyword3"}],proxy:[{title:"No",dataIndex:"no",key:"no"},{title:"IP",dataIndex:"ip",key:"ip"},{title:"Port",dataIndex:"port",key:"port"},{title:"Username",dataIndex:"user",key:"user"},{title:"Password",dataIndex:"password",key:"password"}],browser:[{title:"No",dataIndex:"no",key:"no"},{title:"Name",dataIndex:"name",key:"name"},{title:"Agent",dataIndex:"agent",key:"agent"}],login:[{title:"No",dataIndex:"no",key:"no"},{title:"Username",dataIndex:"user",key:"user"},{title:"Password",dataIndex:"password",key:"password"}],machine:[{title:"No",dataIndex:"no",key:"no"},{title:"IP",dataIndex:"ip",key:"ip"},{title:"Type",dataIndex:"type",key:"type"},{title:"Machine ID",dataIndex:"machine_id",key:"machine_id"},{title:"Last Access",dataIndex:"last_access",key:"last_access"}],surfing:[{title:"No",dataIndex:"no",key:"no"},{title:"Name",dataIndex:"name",key:"name"},{title:"URL",dataIndex:"url",key:"url",render:function(e){return(0,a.jsx)("a",{href:e,children:e})}}],history:[{title:"No",dataIndex:"no",key:"no"},{title:"Time",dataIndex:"time",key:"time"},{title:"Machine",dataIndex:"machine",key:"machine"},{title:"Action",dataIndex:"action",key:"action",render:function(e){return e.includes("fail")?(0,a.jsx)("div",{style:{color:"red"},children:e}):e.includes("end")?(0,a.jsx)("div",{style:{color:"green"},children:e}):(0,a.jsx)("div",{children:e})}}],log:[{title:"No",dataIndex:"no",key:"no"},{title:"Time",dataIndex:"time",key:"time"},{title:"User",dataIndex:"user",key:"user"},{title:"Action",dataIndex:"action",key:"action"}],job:[{title:"No",dataIndex:"no",key:"no",fixed:"left"},{title:"Name",dataIndex:"name",key:"name",fixed:"left"},{title:"login",dataIndex:"login_user",key:"login_user",fixed:"left"},{title:"machine",dataIndex:"machine_id",key:"machine_id",fixed:"left"},{title:"proxy",dataIndex:"proxy_ip",key:"proxy_ip"},{title:"browser",dataIndex:"browser_name",key:"browser_name"},{title:"Goods",dataIndex:"goods",key:"goods",render:function(e){return e&&e.map((function(e,n){return(0,a.jsx)(r.Z,{children:e.name},n)}))}},{title:"Surfing",dataIndex:"surfing",key:"surfing",render:function(e){return e&&e.map((function(e,n){return(0,a.jsx)(r.Z,{children:e.name},n)}))}}],job_select:[{title:"No",dataIndex:"no",key:"no",fixed:"left"},{title:"Name",dataIndex:"name",key:"name",fixed:"left"}],coupon_user:[{title:"No",dataIndex:"no",key:"no"},{title:"Username",dataIndex:"user",key:"user"},{title:"Password",dataIndex:"password",key:"password"},{title:"Nv Username",dataIndex:"nv_user",key:"nv_user"},{title:"Nv Password",dataIndex:"nv_password",key:"nv_password"},{title:"Job",dataIndex:"job_name",key:"job_name"}],coupon_category:[{title:"No",dataIndex:"no",key:"no"},{title:"Name",dataIndex:"name",key:"name"}],coupon:[{title:"No",dataIndex:"no",key:"no"},{title:"Name",dataIndex:"name",key:"name"},{title:"Description",dataIndex:"desc",key:"desc"},{title:"Category",dataIndex:"category",key:"category"},{title:"Brand",dataIndex:"brand",key:"brand"},{title:"Price",dataIndex:"price",key:"price"},{title:"Discount(%)",dataIndex:"discount",key:"discount"}],brand:[{title:"No",dataIndex:"no",key:"no"},{title:"Name",dataIndex:"name",key:"name"}]};n.Z=i},65857:function(e,n,t){t.d(n,{x:function(){return u},k:function(){return l}});var r=t(4942),a=t(1413),i=t(6803),o=t(31243),s=t(84635),c={login:function(e){return o.Z.post(s.Z+"login",e).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))},logout:function(){localStorage.removeItem("user"),localStorage.removeItem("persist:root")}},u=function(e,n){return function(t){return c.login(e,n).then((function(e){var n={};1===e.user.level_id&&(n={level:{view:1,add:1,edit:1,del:1}}),e.user.role.map((function(e){return n=(0,a.Z)((0,a.Z)({},n),{},(0,r.Z)({},e.page,(0,a.Z)((0,a.Z)({},n[e.page]),{},(0,r.Z)({},e.operation,e.permission))))}));var o={id:e.user.id,name:e.user.name,level:e.user.level_id,permission:n,parent:e.user.parent,token:e.access_token};return localStorage.setItem("token",e.access_token),t({type:i.XP,payload:{user:o}}),Promise.resolve()}),(function(e){var n="";switch(e.code){case"ERR_NETWORK":n="Network problem.";break;case"ERR_BAD_REQUEST":n=401===e.response.data.status?"User name or password is incorrect.":"Unknown error. Please contact admin.";break;default:n="Unknown error. Please contact admin."}return t({type:i.Qj}),t({type:i.Nd,payload:n}),Promise.reject()}))}},l=function(){return function(e){c.logout(),localStorage.clear(),e({type:i.Nv}),e({type:i.LD,payload:{name:"auth/login",param:null}})}}},53192:function(e,n,t){t.d(n,{Id:function(){return u},NU:function(){return l},Nk:function(){return d},Yu:function(){return c}});var r=t(6803),a=t(17992),i=t(57960),o=t(10297),s=t(65857),c=function(e,n){return function(t){return a.Z.getList(e,n).then((function(n){var a=(0,o.Z)(n.result,e);return t({type:r.mn,payload:a}),Promise.resolve()}),(function(e){return 401===e.response.data.status?(i.ZP.error("Unauthorized"),t((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception")),Promise.reject()}))}},u=function(e,n,t){return function(r){return a.Z.add(e,n,t).then((function(n){if(201!==n.status&&200!==n.status)return i.ZP.error("Add Data Problem."),Promise.reject("Server problem.");r(c(e)).then((function(){return Promise.resolve()})).catch((function(e){return i.ZP.error("Get Data Problem."),console.log(e),Promise.reject()}))}),(function(e){return 401===e.response.data.status?(i.ZP.error("Unauthorized"),r((0,s.k)())):(console.log(e),i.ZP.error("Add Data Exception")),Promise.reject(e)}))}},l=function(e,n){return function(t){return a.Z.del(e,n).then((function(n){if(201!==n.status)return Promise.reject();t(c(e)).then((function(){return Promise.resolve()})).catch((function(){return Promise.reject()}))}),(function(e){return Promise.reject(e)}))}},d=function(){return{type:r.hU}}},16243:function(e,n,t){t.d(n,{c:function(){return i},p:function(){return a}});var r=t(6803),a=function(e){return{type:r.iA,payload:e}},i=function(e){return{type:r.i_,payload:e}}},81225:function(e,n,t){t.d(n,{p:function(){return a}});var r=t(6803),a=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:r.LD,payload:{name:e,param:n}}}},84635:function(e,n){n.Z="http://45.142.215.75/"},17992:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(31243);function a(){var e=localStorage.getItem("token");return e?{Authorization:e}:{}}var i=t(57960),o=t(84635),s=t(65857),c=t(63237),u=t(6803),l=(0,c.Z)().store,d=function(e,n){return r.Z.post(o.Z+("login"===e?"nvlogin":e)+"/edit",n,{headers:a()}).then((function(e){return e.data}))},f={getList:function(e,n){var t=o.Z+("login"===e?"nvlogin":e)+"/view";return n&&(t+=n),r.Z.get(t,{headers:a()}).then((function(e){return e.data}))},add:function(e,n,t){return t?d(e,n):r.Z.post(o.Z+("login"===e?"nvlogin":e)+"/add",n,{headers:a()}).then((function(e){return e.data}))},edit:d,del:function(e,n){return r.Z.post(o.Z+("login"===e?"nvlogin":e)+"/delete",n,{headers:a()}).then((function(e){return e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Del Data Exception"))}))},getFamily:function(){return r.Z.post(o.Z+"member/family",{},{headers:a()}).then((function(e){return e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},getPermission:function(e){return r.Z.post(o.Z+"level/get",{id:e},{headers:a()}).then((function(e){return e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},getJobLogin:function(){return r.Z.post(o.Z+"job/getlogin",{},{headers:a()}).then((function(e){return e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},getCategory:function(){return r.Z.get(o.Z+"coupon_category/view",{headers:a()}).then((function(e){return e.data.result})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},getCategoryForParentSelect:function(e){return r.Z.post(o.Z+"coupon_category/getwillparent",{id:e},{headers:a()}).then((function(e){return e.data.result})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},getCategoryForCoupon:function(){return r.Z.get(o.Z+"coupon_category/getforcoupon",{headers:a()}).then((function(e){return e.data.result})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},getBrands:function(){return r.Z.get(o.Z+"brand/view",{headers:a()}).then((function(e){return e.data.result})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},changeStatus:function(e){return r.Z.post(o.Z+"coupon_category/change_status",e,{headers:a()}).then((function(e){return console.log(e.data.result),l.dispatch({type:u.mn,payload:e.data.result}),e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Get Data Exception"))}))},delUpload:function(e){return r.Z.post(o.Z+"file/delete",e,{headers:a()}).then((function(e){return e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Del Data Exception"))}))},getAdverts:function(){return r.Z.get(o.Z+"file/getadverts",{headers:a()}).then((function(e){return e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Del Data Exception"))}))},delAdvert:function(e){return r.Z.post(o.Z+"file/deleteadvert",e,{headers:a()}).then((function(e){return e.data})).catch((function(e){401===e.response.data.status?(i.ZP.error("Unauthorized"),l.dispatch((0,s.k)())):(console.log(e),i.ZP.error("Del Data Exception"))}))}}},10297:function(e,n,t){var r=t(1413),a=t(93433);n.Z=function(e,n){switch(n){case"level":return e.reduce((function(e,n){return[].concat((0,a.Z)(e),[{id:n.id,name:n.name,key:n.id}])}),[]);case"member":return e.members.reduce((function(e,n,t){return[].concat((0,a.Z)(e),[{no:t+1,id:n.id,name:n.name,level:n.level_name,parent:n.parent_name,level_id:n.level_id,parent_id:n.parent,key:n.id}])}),[]);case"goods":case"proxy":case"browser":case"login":case"coupon_user":case"machine":case"surfing":case"history":return e.reduce((function(e,n,t){return[].concat((0,a.Z)(e),[(0,r.Z)({no:t+1,id:n.id,key:n.id},n)])}),[]);case"job":return e.jobs.reduce((function(e,n,t){var i,o;return[].concat((0,a.Z)(e),[(0,r.Z)({no:t+1,id:n.id,key:n.id,login_user:n.login?n.login.user:"",machine_id:n.machine?n.machine.machine_id:"",proxy_ip:null===(i=n.proxy)||void 0===i?void 0:i.ip,browser_name:null===(o=n.browser)||void 0===o?void 0:o.name},n)])}),[]);case"log":return e.member_loglist.reduce((function(e,n,t){return[].concat((0,a.Z)(e),[(0,r.Z)({no:t+1,id:n.id,key:n.id,action:n.function_param,user:n.member_name,time:n.created_at},n)])}),[]);case"coupon":return e.couponsList.reduce((function(e,n,t){return[].concat((0,a.Z)(e),[{no:t+1,id:n.id,name:n.name,category_id:n.category_id,brand_id:n.brand_id,category:n.category,brand:n.brand,desc:n.desc,price:n.price,discount:n.discount,image1:n.image1,image2:n.image2,image3:n.image3,status:n.status,key:n.id}])}),[]);case"coupon_category":return e.reduce((function(e,n,t){return[].concat((0,a.Z)(e),[{id:n.id,name:n.name,image1:n.image1,image2:n.image2,image3:n.image3,status:n.status,parent_id:n.parent_id,key:n.key,children:n.children}])}),[]);case"brand":return e.reduce((function(e,n,t){return[].concat((0,a.Z)(e),[{no:t+1,id:n.id,name:n.name,image1:n.image1,image2:n.image2,image3:n.image3,key:n.id}])}),[]);default:return e}}}}]);
//# sourceMappingURL=559.c4f2b028.chunk.js.map