"use strict";(self.webpackChunkcoupon_app=self.webpackChunkcoupon_app||[]).push([[365],{6365:function(e,r,n){n.r(r),n.d(r,{Login:function(){return b},default:function(){return h}});var t=n(9439),a=n(2791),s=n(9434),u=n(4165),o=n(5861),c=n(6803),l=n(1243),i=n(4635),p=function(){var e=(0,o.Z)((0,u.Z)().mark((function e(r){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.Z.post("".concat(i.Z,"/nvlogin/getlogininfo"),r);case 3:if(201!==(n=e.sent).data.status){e.next=8;break}return e.abrupt("return",n.data.result);case 8:return e.abrupt("return","fail");case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return","fail");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(r){return e.apply(this,arguments)}}(),d={login:p},m=n(1225),f=n(184),b=function(){var e=(0,s.I0)(),r=(0,a.useState)(""),n=(0,t.Z)(r,2),l=n[0],i=n[1],p=(0,a.useState)(""),b=(0,t.Z)(p,2),h=b[0],v=b[1],x=(0,a.useState)(""),g=(0,t.Z)(x,2),w=g[0],y=g[1];if((0,s.v9)((function(e){return e.auth.isLoggedIn}))){setTimeout((function(){e((0,m.p)("home"))}),10)}return(0,f.jsx)("div",{className:"flex justify-center items-center h-[100vh] ",children:(0,f.jsxs)("div",{className:" p-8 rounded",children:[(0,f.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Log In"}),w&&(0,f.jsx)("p",{className:"text-red-500 mb-4",children:w}),(0,f.jsxs)("form",{onSubmit:function(r){var n;(r.preventDefault(),l&&h)?(e((n={name:l,password:h},function(){var e=(0,o.Z)((0,u.Z)().mark((function e(r){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.login({machine_id:n.name,password:n.password,type:"Phone"});case 3:if("fail"!==(t=e.sent)){e.next=7;break}return alert("User name or password incorrect"),e.abrupt("return",!1);case 7:return t?localStorage.setItem("back_info",JSON.stringify(t)):localStorage.removeItem("back_info"),e.next=10,r({type:c.ym,payload:n.name});case 10:return e.abrupt("return",!0);case 13:return e.prev=13,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(r){return e.apply(this,arguments)}}())).then((function(r){r&&e((0,m.p)("home"))})),i(""),v(""),y("")):y("Username and password required!")},children:[(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{htmlFor:"username",className:"block mb-2 text-sm font-medium text-gray-600",children:"Username"}),(0,f.jsx)("input",{type:"username",id:"username",className:"w-full p-2 border border-gray-300 rounded",value:l,onChange:function(e){return i(e.target.value)}})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-600",children:"Password"}),(0,f.jsx)("input",{type:"password",id:"password",className:"w-full p-2 border border-gray-300 rounded",value:h,onChange:function(e){return v(e.target.value)}})]}),(0,f.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600",children:"Log In"})]})]})})},h=b},1225:function(e,r,n){n.d(r,{p:function(){return a}});var t=n(6803),a=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:t.LD,payload:{name:e,param:r}}}}}]);
//# sourceMappingURL=365.ee2581dc.chunk.js.map