{"version":3,"file":"static/js/16.27cfdc0c.chunk.js","mappings":"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","sources":["components/Tables/DataTable.jsx","pages/dashboard/CouponUserManage.jsx","../node_modules/@ant-design/icons-svg/es/asn/DeleteTwoTone.js","../node_modules/@ant-design/icons/es/icons/DeleteTwoTone.js","../node_modules/@ant-design/icons-svg/es/asn/EditTwoTone.js","../node_modules/@ant-design/icons/es/icons/EditTwoTone.js","../node_modules/@ant-design/icons-svg/es/asn/PlusOutlined.js","../node_modules/@ant-design/icons/es/icons/PlusOutlined.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Table, Space, Popconfirm, message, Spin } from \"antd\";\r\nimport { EditTwoTone, DeleteTwoTone } from \"@ant-design/icons\";\r\nimport { useSelector } from \"react-redux\";\r\n// import { useLocation } from \"react-router-dom\";\r\nimport { removeData } from \"../../redux/actions/data\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getData, clearData } from \"../../redux/actions/data\";\r\nimport { showDrawer } from \"../../redux/actions/drawer\";\r\nimport { clearFilter } from \"../../redux/actions/search\";\r\n\r\nconst EditableDataTable = (props) => {\r\n  const dispatch = useDispatch();\r\n  const [loading, setLoading] = useState(false);\r\n  const { columns, showAction } = props;\r\n  // const { pathname } = useLocation();\r\n  // const pageName = pathname.substring(1, pathname.length);\r\n  const pageName = useSelector((state) => state.route.name);\r\n  const permission = useSelector((state) =>\r\n    state.auth.isLoggedIn ? state.auth.user.permission : {}\r\n  );\r\n  const level = useSelector((state) =>\r\n    state.auth.isLoggedIn ? state.auth.user.level : -1\r\n  );\r\n\r\n  const realPermissionForEdit = permission[pageName]\r\n    ? permission[pageName].edit\r\n    : level;\r\n  const realPermissionForDel = permission[pageName]\r\n    ? permission[pageName].del\r\n    : level;\r\n  const { key, value } = useSelector((state) => state.search);\r\n\r\n  const data = useSelector((state) => state.data.data);\r\n  const [filteredData, setFilteredData] = useState(data);\r\n  useEffect(() => {\r\n    if (key.length > 0) {\r\n      setFilteredData(\r\n        data.filter((d) => {\r\n          if (d[key]) {\r\n            if (typeof d[key] === \"string\") {\r\n              return d[key].toLowerCase().indexOf(value.toLowerCase()) > -1\r\n                ? true\r\n                : false;\r\n            } else {\r\n              return d[key].toString() === value ? true : false;\r\n            }\r\n          } else {\r\n            return false;\r\n          }\r\n        })\r\n      );\r\n    } else {\r\n      setFilteredData(data);\r\n    }\r\n  }, [key, value, data]);\r\n\r\n  useEffect(() => {\r\n    if (pageName) {\r\n      setLoading(true);\r\n\r\n      const getHandler = async () => {\r\n        dispatch(clearData());\r\n        dispatch(getData(pageName))\r\n          .then(() => {\r\n            setLoading(false);\r\n          })\r\n          .catch(() => {\r\n            setLoading(false);\r\n          });\r\n      };\r\n      dispatch(clearFilter());\r\n      getHandler();\r\n    }\r\n  }, [dispatch, pageName]);\r\n\r\n  const editButtonHandler = (id) => {\r\n    dispatch(showDrawer({ id: id, title: `Edit ${pageName}`, show: true }));\r\n  };\r\n  const deleteButtonHandler = (id) => {\r\n    if (realPermissionForDel === 1) {\r\n      setLoading(true);\r\n      dispatch(removeData(pageName, { id }))\r\n        .then(() => setLoading(false))\r\n        .catch(() => {\r\n          message.error(\"Problem\");\r\n          setLoading(false);\r\n        });\r\n    } else {\r\n      message.open({ type: \"warning\", content: \"You have no permission\" });\r\n    }\r\n  };\r\n  const columnWithControl = [\r\n    ...columns,\r\n    {\r\n      title: \"Action\",\r\n      key: \"action\",\r\n      fixed: \"right\",\r\n      render: (item) => (\r\n        <Space size=\"middle\">\r\n          {realPermissionForEdit === 1 && (\r\n            <EditTwoTone\r\n              className=\"cursor-pointer\"\r\n              onClick={() => editButtonHandler(item.key)}\r\n            />\r\n          )}\r\n          <Popconfirm\r\n            placement=\"left\"\r\n            title=\"Sure to delete?\"\r\n            description=\"All levels and members below this level will be deleted.\"\r\n            onConfirm={() => deleteButtonHandler(item.key)}\r\n            okText=\"Yes\"\r\n            cancelText=\"No\"\r\n          >\r\n            {realPermissionForDel === 1 && (\r\n              <DeleteTwoTone\r\n                twoToneColor=\"#eb2f96\"\r\n                className=\"cursor-pointer\"\r\n              />\r\n            )}\r\n          </Popconfirm>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n  return (\r\n    <Spin spinning={loading}>\r\n      <Table\r\n        columns={showAction ? columnWithControl : columns}\r\n        dataSource={filteredData}\r\n      />\r\n    </Spin>\r\n  );\r\n};\r\nexport default EditableDataTable;\r\n","import DataTable from \"../../components/Tables/DataTable\";\r\nimport { Row, Space, Button } from \"antd\";\r\nimport { PlusOutlined } from \"@ant-design/icons\";\r\nimport Search from \"../../components/Search\";\r\nimport tableColumns from \"../../constant/tableColumns\";\r\nimport { showDrawer } from \"../../redux/actions/drawer\";\r\nimport { useDispatch } from \"react-redux\";\r\n// import { useLocation } from \"react-router-dom\";\r\n\r\nexport const CouponUserManage = () => {\r\n  // const { pathname } = useLocation();\r\n  const dispatch = useDispatch();\r\n  // const pageName = pathname.substring(1, pathname.length);\r\n\r\n  const columns = tableColumns.login;\r\n  const searchFields = columns.reduce(\r\n    (accumulator, currentValue) => [...accumulator, currentValue.key],\r\n    []\r\n  );\r\n  const openDrawer = () => {\r\n    dispatch(\r\n      showDrawer({\r\n        id: 0,\r\n        title: \"Add Coupon User\",\r\n        show: true,\r\n      })\r\n    );\r\n  };\r\n  return (\r\n    <div>\r\n      <Row justify={\"end\"} className=\"p-2\">\r\n        <Space>\r\n          <Search fields={searchFields} />\r\n          <Button type=\"primary\" icon={<PlusOutlined />} onClick={openDrawer}>\r\n            Add\r\n          </Button>\r\n        </Space>\r\n      </Row>\r\n      <DataTable columns={columns} showAction />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CouponUserManage;\r\n","// This icon file is generated automatically.\nvar DeleteTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M292.7 840h438.6l24.2-512h-487z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-504-72h304v72H360v-72zm371.3 656H292.7l-24.2-512h487l-24.2 512z\", \"fill\": primaryColor } }] }; }, \"name\": \"delete\", \"theme\": \"twotone\" };\nexport default DeleteTwoTone;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DeleteTwoToneSvg from \"@ant-design/icons-svg/es/asn/DeleteTwoTone\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar DeleteTwoTone = function DeleteTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: DeleteTwoToneSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  DeleteTwoTone.displayName = 'DeleteTwoTone';\n}\nexport default /*#__PURE__*/React.forwardRef(DeleteTwoTone);","// This icon file is generated automatically.\nvar EditTwoTone = { \"icon\": function render(primaryColor, secondaryColor) { return { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M761.1 288.3L687.8 215 325.1 577.6l-15.6 89 88.9-15.7z\", \"fill\": secondaryColor } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32zm-622.3-84c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89z\", \"fill\": primaryColor } }] }; }, \"name\": \"edit\", \"theme\": \"twotone\" };\nexport default EditTwoTone;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport EditTwoToneSvg from \"@ant-design/icons-svg/es/asn/EditTwoTone\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar EditTwoTone = function EditTwoTone(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: EditTwoToneSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  EditTwoTone.displayName = 'EditTwoTone';\n}\nexport default /*#__PURE__*/React.forwardRef(EditTwoTone);","// This icon file is generated automatically.\nvar PlusOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z\" } }] }, \"name\": \"plus\", \"theme\": \"outlined\" };\nexport default PlusOutlined;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\nif (process.env.NODE_ENV !== 'production') {\n  PlusOutlined.displayName = 'PlusOutlined';\n}\nexport default /*#__PURE__*/React.forwardRef(PlusOutlined);"],"names":["props","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","loading","setLoading","columns","showAction","pageName","useSelector","state","route","name","permission","auth","isLoggedIn","user","level","realPermissionForEdit","edit","realPermissionForDel","del","_useSelector","search","key","value","data","_useState3","_useState4","filteredData","setFilteredData","useEffect","length","filter","d","toLowerCase","indexOf","toString","getHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","clearData","getData","then","catch","stop","apply","arguments","clearFilter","columnWithControl","concat","_toConsumableArray","title","fixed","render","item","_jsxs","Space","size","children","_jsx","EditTwoTone","className","onClick","id","showDrawer","show","Popconfirm","placement","description","onConfirm","removeData","message","error","open","type","content","okText","cancelText","DeleteTwoTone","twoToneColor","Spin","spinning","Table","dataSource","CouponUserManage","tableColumns","login","searchFields","reduce","accumulator","currentValue","Row","justify","Search","fields","Button","icon","PlusOutlined","DataTable","primaryColor","secondaryColor","ref","React","AntdIcon","_extends","DeleteTwoToneSvg","EditTwoToneSvg","PlusOutlinedSvg"],"sourceRoot":""}